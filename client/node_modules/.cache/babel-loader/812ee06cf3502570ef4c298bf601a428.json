{"ast":null,"code":"import { ADD_POST, FORBIDDEN_WORDS } from '../actions/action_types';\nconst forbiddenWords = [\"test\", \"forbidden\"];\nexport function forbiddenWordsMiddleware({\n  dispatch\n}) {\n  return function (next) {\n    return function (action) {\n      console.log(\"middleware log: \", action);\n\n      if (action.type === ADD_POST) {\n        const foundWord = forbiddenWords.filter(word => action.payload.title.includes(word));\n        console.log('Forbidden Word: ', foundWord);\n\n        if (foundWord.length) {\n          return dispatch({\n            type: FORBIDDEN_WORDS\n          });\n        }\n      }\n\n      return next(action);\n    };\n  };\n}","map":{"version":3,"sources":["/Users/cdnphantom/projects/2019/worldproblems/client/src/middleware/index.js"],"names":["ADD_POST","FORBIDDEN_WORDS","forbiddenWords","forbiddenWordsMiddleware","dispatch","next","action","console","log","type","foundWord","filter","word","payload","title","includes","length"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,eAAnB,QAA0C,yBAA1C;AAEA,MAAMC,cAAc,GAAG,CAAC,MAAD,EAAS,WAAT,CAAvB;AAEA,OAAO,SAASC,wBAAT,CAAkC;AAAEC,EAAAA;AAAF,CAAlC,EAAgD;AACnD,SAAO,UAAUC,IAAV,EAAgB;AACnB,WAAO,UAAUC,MAAV,EAAkB;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,MAAhC;;AACJ,UAAIA,MAAM,CAACG,IAAP,KAAgBT,QAApB,EAA8B;AAC1B,cAAMU,SAAS,GAAGR,cAAc,CAACS,MAAf,CAAsBC,IAAI,IACxCN,MAAM,CAACO,OAAP,CAAeC,KAAf,CAAqBC,QAArB,CAA8BH,IAA9B,CADc,CAAlB;AAIAL,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCE,SAAhC;;AAEA,YAAIA,SAAS,CAACM,MAAd,EAAsB;AAClB,iBAAOZ,QAAQ,CAAC;AAAEK,YAAAA,IAAI,EAAER;AAAR,WAAD,CAAf;AACH;AACJ;;AACD,aAAOI,IAAI,CAACC,MAAD,CAAX;AACH,KAdD;AAeH,GAhBD;AAiBH","sourcesContent":["import { ADD_POST, FORBIDDEN_WORDS } from '../actions/action_types';\n\nconst forbiddenWords = [\"test\", \"forbidden\"];\n\nexport function forbiddenWordsMiddleware({ dispatch }) {\n    return function (next) {\n        return function (action) {\n                console.log(\"middleware log: \", action)\n            if (action.type === ADD_POST) {\n                const foundWord = forbiddenWords.filter(word =>\n                    action.payload.title.includes(word)\n                );\n\n                console.log('Forbidden Word: ', foundWord)\n\n                if (foundWord.length) {\n                    return dispatch({ type: FORBIDDEN_WORDS })\n                }\n            }\n            return next(action);\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}